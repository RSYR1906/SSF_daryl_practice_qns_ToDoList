<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Edit Todo</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container mt-4">
      <h1 class="text-center">Edit Todo</h1>

      <form
        th:action="@{/todos/{id}/edit(id=${todo.id})}"
        method="post"
        th:object="${todo}"
      >
        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            th:field="*{name}"
            required
          />
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea
            class="form-control"
            id="description"
            name="description"
            th:field="*{description}"
          ></textarea>
        </div>

        <div class="mb-3">
          <label for="priority" class="form-label">Priority</label>
          <select
            class="form-select"
            id="priority"
            name="priority"
            th:field="*{priority}"
          >
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="status" class="form-label">Status</label>
          <select
            class="form-select"
            id="status"
            name="status"
            th:field="*{status}"
          >
            <option value="pending">Pending</option>
            <option value="started">Started</option>
            <option value="in_progress">In Progress</option>
            <option value="completed">Completed</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="dueDate" class="form-label">Due Date</label>
          <input
            type="text"
            id="dueDate"
            name="dueDate"
            th:field="*{dueDate}"
            placeholder="MM-DD-YYYY"
          />
          <span
            class="text-danger"
            th:if="${#fields.hasErrors('dueDate')}"
            th:errors="*{dueDate}"
          ></span>
        </div>

        <input type="hidden" id="id" name="id" th:field="*{id}" />

        <input
          type="hidden"
          id="createdAt"
          name="createdAt"
          th:field="*{createdAt}"
        />
        <input
          type="hidden"
          id="updatedAt"
          name="updatedAt"
          th:field="*{updatedAt}"
        />

        <button type="submit" class="btn btn-primary">Update To-do</button>
      </form>
    </div>
  </body>
</html>
